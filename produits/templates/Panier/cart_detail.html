{% extends 'main.html' %}

{% block content %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
  /* Styles pour le tableau */
  .table {
    border-radius: 5px;
    overflow: hidden;
  }

  .table thead th {
    background-color: #f8f9fa;
    color: #333;
    font-weight: bold;
    text-align: center;
    vertical-align: middle;
  }

  .table tbody td {
    background-color: #fff;
    color: #333;
    text-align: center;
    vertical-align: middle;
  }

  .table .subtotal {
    font-weight: bold;
  }

  .table .subtotal.fcfa:before {
    content: "fcfa";
  }

  .table tbody tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  .table tbody tr:hover {
    background-color: #e2e6ea;
  }

  /* Styles pour les boutons */
  .btn {
    border-radius: 5px;
    padding: 10px 20px;
    font-size: 14px;
    text-decoration: none;
    margin-right: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .btn-danger {
    background-color: #dc3545;
    color: #fff;
  }

  .btn-danger:hover {
    background-color: #c82333;
  }

  .btn-success {
    background-color: #28a745;
    color: #fff;
  }

  .btn-success:hover {
    background-color: #218838;
  }

  .btn-warning {
    background-color: #ffc107;
    color: #333;
  }

  .btn-warning:hover {
    background-color: #e0a800;
  }
</style>

<div class="container">
  <h1 style="font-family:Edwardian Script ITC; font-size: 76px;" class="my-4">Panier</h1>
  <div class="row">
    <div class="col-md-12">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Produit</th>
              <th scope="col">Description</th>
              <th scope="col">Prix unitaire</th>
              <th scope="col">Quantité</th>
              <th scope="col">Sous-total</th>
            </tr>
          </thead>
          <tbody>
            {% for cart_item in cart_items %}
            <tr>
              <td>
                <img src="{{ cart_item.product.image.url }}" alt="{{ cart_item.product.title }}" class="img-fluid" style="max-width: 100px;">
              </td>
              <td>{{ cart_item.product.description }}</td>
              <td>{{ cart_item.product.price }} fcfa</td>
              <td>
                <strong>{{ cart_item.quantity }}</strong>
              </td>
              <td class="subtotal">{{ cart_item.subtotal }} fcfa</td>
            </tr>
            {% endfor %}
            <tr>
              <td colspan="4" class="text-end"><strong>Sous-total :</strong></td>
              <td style='color:green;' class="text-start subtotal">{{ subtotal }} fcfa</td>
            </tr>
            <tr>
              <td colspan="4" class="text-end"><strong>Quantité totale :</strong></td>
              <td style='color:red;' class="text-start ">{{ total_quantity }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-md-12 text-center">
      <a href="{% url 'clear_cart' %}" class="btn btn-danger">Vider le Panier</a>
      <a href="{% url 'commande_view' %}" class="btn btn-success">Passer la commande</a>
      <h1 style='font-family:Edwardian Script ITC; font-size: 76px;'> Payer a la livraison</h1>
      <div class="card">
        <div class="card-body">
          <!-- Inclure Bootstrap Icons CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">

      <p class="card-text">Livraison avec Paiement à la Réception

        Notre site web propose un service de livraison pratique et sécurisé pour tous vos achats. Avec notre option de paiement à la réception,
         vous pouvez commander en toute tranquillité,
          sachant que vous ne payerez que lorsque vous aurez reçu vos articles.</p>
          <p>
            <i class="bi bi-telephone-fill"></i> Téléphone : <a href="tel:+33751487308">+33751487308</a><br>
            <i class="bi bi-whatsapp"></i> WhatsApp : <a href="https://wa.me/337514873089">+33751487308</a>
          </p>
      </div>
    </div>
  </div>
</div>
  </div>
</div>

<script>
  // Votre script JavaScript ici
</script>

{% endblock %}